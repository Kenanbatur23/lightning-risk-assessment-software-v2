{% extends "home.html" %}
{% block content %}
  <h2>Koruma Bölgesi Karakteristikleri</h2>
  <form method="POST">

<!-- Elektrik Çarpmasına Karşı Yapıda Alınan Önlem -->
<div class="form-group">
  <label>Elektrik Çarpmasına Karşı Yapıda Alınan Önlem:</label>
  <br>
  <input type="checkbox" name="elektirik_önlem_yapı" value="Korunma Tedbiri Yok" id="yapi_option1"
         {% if elektirik_önlem_yapı and "Korunma Tedbiri Yok" in elektirik_önlem_yapı %}checked{% endif %}>
  <label for="yapi_option1">Korunma Tedbiri Yok</label><br>
  
  <input type="checkbox" name="elektirik_önlem_yapı" value="Uyarı İşaretleri" id="yapi_option2"
         {% if elektirik_önlem_yapı and "Uyarı İşaretleri" in elektirik_önlem_yapı %}checked{% endif %}>
  <label for="yapi_option2">Uyarı İşaretleri</label><br>
  
  <input type="checkbox" name="elektirik_önlem_yapı" value="Elektriksel Yalıtım" id="yapi_option3"
         {% if elektirik_önlem_yapı and "Elektriksel Yalıtım" in elektirik_önlem_yapı %}checked{% endif %}>
  <label for="yapi_option3">Elektriksel Yalıtım</label><br>
  
  <input type="checkbox" name="elektirik_önlem_yapı" value="Etkin Zemin Eş Potansiyel Kuşaklaması" id="yapi_option4"
         {% if elektirik_önlem_yapı and "Etkin Zemin Eş Potansiyel Kuşaklaması" in elektirik_önlem_yapı %}checked{% endif %}>
  <label for="yapi_option4">Etkin Zemin Eş Potansiyel Kuşaklaması</label><br>
  
  <input type="checkbox" name="elektirik_önlem_yapı" value="Fiziksel Kısıtlamalar ve İndirme İletkeni Olarak Kullanılan Bina İskeleti" id="yapi_option5"
         {% if elektirik_önlem_yapı and "Fiziksel Kısıtlamalar ve İndirme İletkeni Olarak Kullanılan Bina İskeleti" in elektirik_önlem_yapı %}checked{% endif %}>
  <label for="yapi_option5">Fiziksel Kısıtlamalar ve İndirme İletkeni Olarak Kullanılan Bina İskeleti</label><br>
</div>

<!-- Elektrik Çarpmasına Karşı Hatta Alınan Önlem -->
<div class="form-group">
  <label>Elektrik Çarpmasına Karşı Hatta Alınan Önlem:</label>
  <br>
  <input type="checkbox" name="elektirik_önlem_hat" value="Korunma Tedbiri Yok" id="hat_option1"
         {% if elektirik_önlem_hat and "Korunma Tedbiri Yok" in elektirik_önlem_hat %}checked{% endif %}>
  <label for="hat_option1">Korunma Tedbiri Yok</label><br>
  
  <input type="checkbox" name="elektirik_önlem_hat" value="Kablaj Uyarılarıları" id="hat_option2"
         {% if elektirik_önlem_hat and "Kablaj Uyarılarıları" in elektirik_önlem_hat %}checked{% endif %}>
  <label for="hat_option2">Kablaj Uyarılarıları</label><br>
  
  <input type="checkbox" name="elektirik_önlem_hat" value="Elektriksel Yalıtım" id="hat_option3"
         {% if elektirik_önlem_hat and "Elektriksel Yalıtım" in elektirik_önlem_hat %}checked{% endif %}>
  <label for="hat_option3">Elektriksel Yalıtım</label><br>
  
  <input type="checkbox" name="elektirik_önlem_hat" value="Fiziksel Kısıtlamalar" id="hat_option4"
         {% if elektirik_önlem_hat and "Fiziksel Kısıtlamalar" in elektirik_önlem_hat %}checked{% endif %}>
  <label for="hat_option4">Fiziksel Kısıtlamalar</label><br>
</div>



    <div class="form-group">
      <label for="yangın_riski">Yangın Riski:</label><!-- r_f -->
      <br>
      <select name="yangın_riski" id="yangın_riski" required>
        <option value="" disabled {% if not yangın_riski %}selected{% endif %}>Seçiniz</option>
        <option value="Patlama ve Yangın Riski Yok" {% if yangın_riski == 'Patlama ve Yangın Riski Yok' %}selected{% endif %}>Patlama ve Yangın Riski Yok</option>
        <option value="Yangın Riski Düşük" {% if yangın_riski == 'Yangın Riski Düşük' %}selected{% endif %}>Yangın Riski Düşük</option>
        <option value="Yangın Riski Normal" {% if yangın_riski == 'Yangın Riski Normal' %}selected{% endif %}>Yangın Riski Normal</option>
        <option value="Yangın Riski Yüksek" {% if yangın_riski == 'Yangın Riski Yüksek' %}selected{% endif %}>Yangın Riski Yüksek</option>
        <option value="1. Seviye Patlama Riski-Bölge 2,22" {% if yangın_riski == '1. Seviye Patlama Riski-Bölge 2,22' %}selected{% endif %}>1. Seviye Patlama Riski-Bölge 2,22</option>
        <option value="2. Seviye Patlama Riski-Bölge 1,21" {% if yangın_riski == '2. Seviye Patlama Riski-Bölge 1,21' %}selected{% endif %}>2. Seviye Patlama Riski-Bölge 1,21</option>
        <option value="3. Seviye Patlama Riski(Katı Patlayıcı)-Bölge 0,20" {% if yangın_riski == '3. Seviye Patlama Riski(Katı Patlayıcı)-Bölge 0,20' %}selected{% endif %}>3. Seviye Patlama Riski(Katı Patlayıcı)-Bölge 0,20</option>
      </select>
    </div>
    <div class="form-group"><!-- r_p -->
      <label for="yangın_tedbir">Yangına Karşı Tedbir:</label>
      <br>
      <select name="yangın_tedbir" id="yangın_tedbir" required>
        <option value="" disabled {% if not yangın_tedbir %}selected{% endif %}>Seçiniz</option>
        <option value="Tedbir Yok" {% if yangın_tedbir == 'Tedbir Yok' %}selected{% endif %}>Tedbir Yok</option>
        <option value="Yangın Söndürücüler, İle Çalıştırılan Yangın Söndürme Sistemi, Elle Çalıştırılan Alarm Sistemleri, Hidrantlar, Yangına Karşı Korunmalı Bölmeler, Kaçış Güzergâhları" {% if yangın_tedbir == 'Yangın Söndürücüler, İle Çalıştırılan Yangın Söndürme Sistemi, Elle Çalıştırılan Alarm Sistemleri, Hidrantlar, Yangına Karşı Korunmalı Bölmeler, Kaçış Güzergâhları' %}selected{% endif %}>Yangın Söndürücüler, İle Çalıştırılan Yangın Söndürme Sistemi, Elle Çalıştırılan Alarm Sistemleri, Hidrantlar, Yangına Karşı Korunmalı Bölmeler, Kaçış Güzergâhları</option>
        <option value="Otomatik Sabit Yangın Söndürme Sistemleri, Otomatik Alarm Sistemleri (İtfayiciler 10 dakikalık mesafede ise)" {% if yangın_tedbir == 'Otomatik Sabit Yangın Söndürme Sistemleri, Otomatik Alarm Sistemleri (İtfayiciler 10 dakikalık mesafede ise)' %}selected{% endif %}>Otomatik Sabit Yangın Söndürme Sistemleri, Otomatik Alarm Sistemleri (İtfayiciler 10 dakikalık mesafede ise)</option> 
      </select>
    </div>
 


    

    <div class="form-group" style="justify-content: center;">
        <button type="submit">Kaydet ve Devam Et</button>
    </div>
        
    <!-- Formu göndermek için bir submit butonu ekleyebilirsiniz -->
  <!-- Power Line sayfasına yönlendirme yapan buton -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Yapı önlem checkboxları
      const yapiKorunma = document.getElementById('yapi_option1');
      const yapiCheckboxes = Array.from(document.querySelectorAll('input[name="elektirik_önlem_yapı"]')).filter(cb => cb.id !== 'yapi_option1');

      yapiKorunma.addEventListener('change', function() {
        if (this.checked) {
          yapiCheckboxes.forEach(cb => {
            cb.checked = false;
            cb.disabled = true;
          });
        } else {
          yapiCheckboxes.forEach(cb => {
            cb.disabled = false;
          });
        }
      });

      // Hatt önlem checkboxları
      const hatKorunma = document.getElementById('hat_option1');
      const hatCheckboxes = Array.from(document.querySelectorAll('input[name="elektirik_önlem_hat"]')).filter(cb => cb.id !== 'hat_option1');

      hatKorunma.addEventListener('change', function() {
        if (this.checked) {
          hatCheckboxes.forEach(cb => {
            cb.checked = false;
            cb.disabled = true;
          });
        } else {
          hatCheckboxes.forEach(cb => {
            cb.disabled = false;
          });
        }
      });

      // On page load, trigger change to set initial states if needed
      yapiKorunma.dispatchEvent(new Event('change'));
      hatKorunma.dispatchEvent(new Event('change'));
    });
  </script>
  </form>
{% endblock %}
